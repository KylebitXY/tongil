{% extends "base/base.html" %}

{% block content %}
  <h2>Register</h2>
  <form method="post">
    <div class="form-group">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Register</button>
    </div>
  </form>
{% endblock %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
      const roleField = document.querySelector('select[name="role"]');
      const levelField = document.querySelector('select[name="level"]');
      const roleFieldField = document.querySelector('select[name="role_field"]');
      const mediaHouseField = document.querySelector('input[name="media_house"]');

      function toggleFields() {
          const selectedRole = roleField.value;
          
          levelField.style.display = selectedRole === 'coach' ? 'block' : 'none';
          roleFieldField.style.display = selectedRole === 'staff' ? 'block' : 'none';
          mediaHouseField.style.display = selectedRole === 'media' ? 'block' : 'none';
      }

      roleField.addEventListener('change', toggleFields);
      toggleFields(); // Initial check
  });
</script>
